<table>
  <thead>
    <tr>
      <th class="title">标题</th> 
      <th class="name">作者</th>
      <th class="operate">操作</th> 
    </tr> 
  </thead>
  <tbody>
    <% @topics.each do |topic| %>
      <tr>
        <td align="center">
          <%= link_to topic.title, topic_path(:id => topic.id) %>
        </td>
        <td align="center"><%= topic.user.name if topic.user %></td>     <!-- if判断是否有用户名-->
        <td align="center">
          <%= link_to '修改', edit_topic_path(:id => topic.id), :method => 'get'%>
          <%= link_to '删除', topic_path( :id => topic.id ), :method => 'delete' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="new"> 
  <%= link_to '新建', new_topic_path %>
  <%= link_to '返回主页面',root_path%>
</div> 
<%= form_tag topics_path, :method => :get do %> 
  <div class="new"> 
    <%= label_tag "查询关键字" %> 
    <%= text_field_tag :content %>  
    <%= submit_tag "提交" %>
  </div>
<% end %>

